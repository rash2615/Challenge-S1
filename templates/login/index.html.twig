<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Se Connecter - Luxar</title>
        <link rel="stylesheet" href="{{ asset('build/app.css') }}">
    </head>
    <body class="bg-gray-100 text-gray-900 font-sans">
        <!-- Header -->
        <header class="bg-white shadow">
            <div class="container mx-auto flex justify-between items-center py-6 px-4 md:px-6">
                <div class="text-lg font-bold">
                    <a href="/" class="text-blue-500 hover:underline">Luxar</a>
                </div>
                <nav class="flex space-x-4">
                    <a href="/login" class="text-blue-500 hover:underline">Login</a>
                    <a href="/register" class="text-blue-500 hover:underline">Sign Up</a>
                </nav>
            </div>
        </header>

        <!-- Main Content -->
        <main class="container mx-auto mt-10 px-4 md:px-6">
            <section class="max-w-md mx-auto bg-white p-8 rounded-lg shadow-md">
                <h1 class="text-2xl font-bold text-center mb-6">Connexion</h1>

                <form method="post">
                {% if error %}
                    <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                {% endif %}

                {% if app.user %}
                    <div class="mb-3">
                        Vous êtes connecté(e) comme {{ app.user.userIdentifier }}, <a href="{{ path('app_logout') }}">Me déconnecter</a>
                    </div>
                {% endif %}

                    <div class="mb-4">
                        <label for="inputEmail" class="block text-gray-700">Email</label>
                        <input type="text" id="inputEmail" name="_email" value="{{ last_username }}" autocomplete="email" required autofocus class="form-control w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600">
                    </div>
                    <div class="mb-6">
                        <label for="inputPassword" class="block text-gray-700">Mot de passe</label>
                        <input type="password" name="_password" id="inputPassword" autocomplete="current-password" required class="form-control w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600">
                    </div>

                    <div class="checkbox mb-3">
                        <label>
                            <input type="checkbox" name="_remember_me"> Remember me
                        </label>
                    </div>

                    <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

                    <div class="flex items-center justify-between">
                        {# If you want to control the URL the user is redirected to on success
                            <input type="hidden" name="_target_path" value="/account"> #}
                        <button type="submit" class="bg-blue-500 text-white px-6 py-2 rounded-lg font-semibold shadow-md hover:bg-blue-600">Se connecter</button>
                        <a href="/register" class="text-blue-500 hover:underline">Créer un compte</a>
                    </div>
                </form>
            </section>
        </main>

        <!-- Footer -->
        <footer class="bg-white mt-16 py-6">
            <div class="container mx-auto text-center">
                <p class="text-gray-700">&copy; 2024 Luxar. Tous droits réservés.</p>
            </div>
        </footer>
    </body>
</html>
